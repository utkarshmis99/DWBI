USE [AdventureWorks2014]
GO
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [HumanResources].[EmployeeStaging](
	[BusinessEntityID] [int] NOT NULL,
	[NationalIDNumber] [varchar](255) NOT NULL,
	[LoginID] [varchar](255) NOT NULL,
	[OrganizationNode] [hierarchyid] NULL,
	[OrganizationLevel]  [varchar](255) NULL,
	[JobTitle] [varchar](255) NOT NULL,
	[BirthDate] [date] NOT NULL,
	[MaritalStatus] [varchar](255) NOT NULL,
	[Gender] [varchar](255) NOT NULL,
	[HireDate] [date] NOT NULL,
	[SalariedFlag] [dbo].[Flag] NOT NULL,
	[VacationHours] [smallint] NOT NULL,
	[SickLeaveHours] [smallint] NOT NULL,
	[CurrentFlag] [dbo].[Flag] NOT NULL,
	[rowguid] [uniqueidentifier] ROWGUIDCOL  NOT NULL,
	[ModifiedDate] [datetime] NOT NULL,
 CONSTRAINT [PK_EmployeeStaging_BusinessEntityID] PRIMARY KEY CLUSTERED 
(
	[BusinessEntityID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [HumanResources].[EmployeeStaging] ADD  CONSTRAINT [DF_EmployeeStaging_SalariedFlag]  DEFAULT ((1)) FOR [SalariedFlag]
GO

ALTER TABLE [HumanResources].[EmployeeStaging] ADD  CONSTRAINT [DF_EmployeeStaging_VacationHours]  DEFAULT ((0)) FOR [VacationHours]
GO

ALTER TABLE [HumanResources].[EmployeeStaging] ADD  CONSTRAINT [DF_EmployeeStaging_SickLeaveHours]  DEFAULT ((0)) FOR [SickLeaveHours]
GO

ALTER TABLE [HumanResources].[EmployeeStaging] ADD  CONSTRAINT [DF_EmployeeStaging_CurrentFlag]  DEFAULT ((1)) FOR [CurrentFlag]
GO

ALTER TABLE [HumanResources].[EmployeeStaging] ADD  CONSTRAINT [DF_EmployeeStaging_rowguid]  DEFAULT (newid()) FOR [rowguid]
GO

ALTER TABLE [HumanResources].[EmployeeStaging] ADD  CONSTRAINT [DF_EmployeeStaging_ModifiedDate]  DEFAULT (getdate()) FOR [ModifiedDate]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [FK_EmployeeStaging_Person_BusinessEntityID] FOREIGN KEY([BusinessEntityID])
REFERENCES [Person].[Person] ([BusinessEntityID])
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [FK_EmployeeStaging_Person_BusinessEntityID]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [CK_EmployeeStaging_BirthDate] CHECK  (([BirthDate]>='1930-01-01' AND [BirthDate]<=dateadd(year,(-18),getdate())))
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [CK_EmployeeStaging_BirthDate]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [CK_EmployeeStaging_Gender] CHECK  ((upper([Gender])='F' OR upper([Gender])='M'))
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [CK_EmployeeStaging_Gender]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [CK_EmployeeStaging_HireDate] CHECK  (([HireDate]>='1996-07-01' AND [HireDate]<=dateadd(day,(1),getdate())))
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [CK_EmployeeStaging_HireDate]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [CK_EmployeeStaging_MaritalStatus] CHECK  ((upper([MaritalStatus])='S' OR upper([MaritalStatus])='M'))
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [CK_EmployeeStaging_MaritalStatus]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [CK_EmployeeStaging_SickLeaveHours] CHECK  (([SickLeaveHours]>=(0) AND [SickLeaveHours]<=(120)))
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [CK_EmployeeStaging_SickLeaveHours]
GO

ALTER TABLE [HumanResources].[EmployeeStaging]  WITH CHECK ADD  CONSTRAINT [CK_EmployeeStaging_VacationHours] CHECK  (([VacationHours]>=(-40) AND [VacationHours]<=(240)))
GO

ALTER TABLE [HumanResources].[EmployeeStaging] CHECK CONSTRAINT [CK_EmployeeStaging_VacationHours]
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Primary key for EmployeeStaging records.  Foreign key to BusinessEntity.BusinessEntityID.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'BusinessEntityID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Unique national identification number such as a social security number.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'NationalIDNumber'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Network login.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'LoginID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Where the employee is located in corporate hierarchy.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'OrganizationNode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'The depth of the employee in the corporate hierarchy.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'OrganizationLevel'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Work title such as Buyer or Sales Representative.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'JobTitle'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Date of birth.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'BirthDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'M = Married, S = Single' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'MaritalStatus'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'M = Male, F = Female' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'Gender'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Employee hired on this date.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'HireDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Job classification. 0 = Hourly, not exempt from collective bargaining. 1 = Salaried, exempt from collective bargaining.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'SalariedFlag'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Default constraint value of 1 (TRUE)' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'DF_EmployeeStaging_SalariedFlag'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Number of available vacation hours.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'VacationHours'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Default constraint value of 0' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'DF_EmployeeStaging_VacationHours'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Number of available sick leave hours.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'Employeestaging', @level2type=N'COLUMN',@level2name=N'SickLeaveHours'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Default constraint value of 0' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'DF_EmployeeStaging_SickLeaveHours'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'0 = Inactive, 1 = Active' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'CurrentFlag'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Default constraint value of 1' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'DF_EmployeeStaging_CurrentFlag'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'ROWGUIDCOL number uniquely identifying the record. Used to support a merge replication sample.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'rowguid'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Default constraint value of NEWID()' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'DF_EmployeeStaging_rowguid'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Date and time the record was last updated.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'COLUMN',@level2name=N'ModifiedDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Default constraint value of GETDATE()' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'DF_EmployeeStaging_ModifiedDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Primary key (clustered) constraint' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'PK_EmployeeStaging_BusinessEntityID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Employee information such as salary, department, and title.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Foreign key constraint referencing Person.BusinessEntityID.' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'FK_EmployeeStaging_Person_BusinessEntityID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Check constraint [BirthDate] >= ''1930-01-01'' AND [BirthDate] <= dateadd(year,(-18),GETDATE())' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'CK_EmployeeStaging_BirthDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Check constraint [Gender]=''f'' OR [Gender]=''m'' OR [Gender]=''F'' OR [Gender]=''M''' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'CK_EmployeeStaging_Gender'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Check constraint [HireDate] >= ''1996-07-01'' AND [HireDate] <= dateadd(day,(1),GETDATE())' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'CK_EmployeeStaging_HireDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Check constraint [MaritalStatus]=''s'' OR [MaritalStatus]=''m'' OR [MaritalStatus]=''S'' OR [MaritalStatus]=''M''' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'CK_EmployeeStaging_MaritalStatus'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Check constraint [SickLeaveHours] >= (0) AND [SickLeaveHours] <= (120)' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'CK_EmployeeStaging_SickLeaveHours'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Check constraint [VacationHours] >= (-40) AND [VacationHours] <= (240)' , @level0type=N'SCHEMA',@level0name=N'HumanResources', @level1type=N'TABLE',@level1name=N'EmployeeStaging', @level2type=N'CONSTRAINT',@level2name=N'CK_EmployeeStaging_VacationHours'
GO